<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Jobs > {{(job.id ? job.id : '[Deleted]')}}  > Executions > {{execId}} </h1>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <alert style="margin-top: 10px" ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
            <div class="panel panel-default">
                <div class="panel-heading"><i class="fa fa-play-circle fa-fw"></i> Job Execution
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12" style="overflow: auto">
                            <table class="table table-striped table-hover" id="tableExecutions">
                                <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>JOB</th>
                                    <th>EXEC ID</th>
                                    <th>MODULE ID</th>
                                    <th>STATUS</th>
                                    <th>STATUS MESSAGE</th>
                                    <th>TOTAL</th>
                                    <th>PROCESSED</th>
                                    <th>REJECTED</th>
                                    <th>&nbsp;</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="moduleExecution in jobExecution.moduleExecutions" ng-style="executionRecordStyle(moduleExecution.status)">
                                    <td class="numericData">{{jobExecution.id}}</td>
                                    <td class="textData">{{jobExecution.executedJob}}</td>
                                    <td class="numericData">{{moduleExecution.id}}</td>
                                    <td class="numericData">{{moduleExecution.moduleID}}</td>
                                    <td class="textData">{{moduleExecution.status}}</td>
                                    <td class="rawData">{{moduleExecution.statusCode}} - {{moduleExecution.statusMessage}}</td>
                                    <td class="numericData">{{moduleExecution.total | number:0}}</td>
                                    <td class="numericData">{{moduleExecution.processed | number:0}}</td>
                                    <td class="numericData">{{moduleExecution.rejected | number:0}}</td>
                                    <td class="rowControls">
                                        <a href="" ng-disabled="!moduleExecution.log" ng-click="showLog(moduleExecution.id)" title="View Detailed Log" class="btn btn-info" ng-disabled="{{!user.authorities.EXECUTIONS[0]}}"><i class="fa fa-bars"></i></a>
                                        <a href="" ng-hide="true" ng-disabled="true" title="Download Log, Rejects and Exceptions" class="btn btn-success"><i class="fa fa-download" ng-disabled="{{!user.authorities.EXECUTIONS[0]}}"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <span us-spinner spinner-key="spinner-1"></span>
            <div class="row" ng-show="showLogDetail">
                <div class="col-lg-12" style="overflow: auto">
                    <hr>
                    <h4>Log:</h4>
                    <div class="panel panel-default" style="height: 600px; overflow: auto; white-space: pre-line;">
                        <div class="panel-body">{{executionLog}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
